<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <meta name="author" content="mutita.org@gmail.com">
  <title>xdev2.js doc</title>
  <style>
    textarea {width: 100%; background-color:lavender; font-family: monospace; overflow:hidden; border:none; color:darkred}
    code {background-color:lavender; font-family: monospace; color:darkred}
    h1 {color:darkred}
    h2 {margin-top:32px; margin-bottom:0}
    h2 + p {margin-top:8px}
    mark {background-color: lightyellow;}
    caution {color:red; font-weight: bold;}

    @media (min-width:800px) {
      #toc {
        float: left;
        width: 25%;
        position:sticky; top:0;
      }
      #story {
        margin-left: 25%;
        max-width: 800px;
      }
      #title {
        margin-top:0; padding-top:0;
      }
    }
  </style>
</head>
<body>
<!-- scroll top -->
<a href="#" style="font-size:40px; position:fixed; left:0; bottom:0; padding:2px; color:orange; cursor:pointer; text-decoration: none;">&#8673;</a>
<!-- table of contents -->
<div id="toc">
  <!-- doc title -->
  <h1 id="title">xdev2.js doc</h1>
  <p>Table of contents</p>
  <ol>
    <li><a href="#brief">Brief</a></li>
    <li><a href="#config">Config</a></li>
    <li><a href="#cert">cert</a> </li>
    <li><a href="#jwtsign">jwtSign</a> </li>
    <li><a href="#jwtverify">jwtVerify</a> </li>
    <li><a href="#wrap">wrap</a> </li>
    <li><a href="#unwrap">unwrap</a> </li>
    <li><a href="#uuidx">uuidx</a></li>
    <li><a href="#uuid">uuid</a> </li>
    <li><a href="#ishex">isHex</a></li>
    <li><a href="#isjson">isJson</a></li>
    <li><a href="#x2html">x2html</a></li>
    <li><a href="#convert">convert</a></li>
    <li><a href="#randomwords">randomWords</a></li>
    <li><a href="#makekey">makeKey</a></li>
    <li><a href="#preppacket">prepPacket</a></li>
    <li><a href="#passwordrealhash">passwordRealHash</a></li>


  </ol>
</div>
<!-- story -->
<div id="story">
  <h2 id="brief">Brief</h2>
  <p>This can be a good tool help making nodejs apps more easier. This thing houses <mark>xmongo.js, xfile.js, xcrypto.js</mark> together pluses some more of its own functions. The xdev also include <mark>uuid, jwt, ObjectId</mark> into its code.</p>
  <textarea rows="3">
  XF.$({
    ... put xdev commands here ... 
  })
  </textarea>
  <p>The xdev also provide some functions can be called like general js function like:</p>
  <textarea>
  XS.uuid()
  </textarea>



  <h2 id="config">Config</h2>
  <p>Get the <mark>xdev2.js</mark> to your directory and include it to your program. You have to have the <mark>xmongo2.js, xfile2.js, xcrypto2.js</mark> and those required modules installed in your nodejs environment.</p>
  <textarea>
  const XS = require('xdev2.js')
  </textarea>
  <p>The number <mark>2</mark> is its version. If we have next version it gonna be <mark>xdev3.js</mark> so we know which version we're using.</p>


  <hr style="margin-top:36px; margin-bottom:0; padding:0; ">
  <p style="color:gray; margin-top:0; font-family: sans-serif; text-align: center;">XDEV COMMANDS</p>


  <h2 id="cert">cert</h2>
  <p>Makes the message certification more simpler than the HMAC. Following format is to sign the message outputing the sha256 code.</p>
  <textarea rows="4">
  XS.$({ 
    cert: 'message...',
    salt: 'salt string...' 
  })
  </textarea>
  <p>To verify the certified message, do the same like above but adding the <code>sig:</code> into it. The sig or signature is the code getting from the sign process above.</p>
  <textarea rows="5">
  XS.$({
    cert: 'message...',
    salt: 'salt...',
    sig:  'sha256 cert/signature code'
  })
  </textarea>
  <p><caution>!</caution> if you don't put the salt, XS will take it from the <code>defaultSalt</code>. You can set the <code>defaultSalt</code> at the beginning of the <code>xdev2.js</code> file.</p>




  <h2 id="jwtsign">jwtSign</h2>
  <p>Signs message with jwt (javascript web token). The output is base64 token.</p>
  <textarea rows="4">
  XS.$({  
    jwtSign:  'message...', 
    key:      'string at least 1 digit' 
  })
  </textarea>

  <h2 id="jwtverify">jwtVerify</h2>
  <p>Verifies the jwt token. The output is the message if the message is correct. If it's wrong, output is <code>false</code>.</p>
  <textarea rows="4">
  XS.$({ 
    jwtVerify: 'jwt token...',
    key:        'string at least 1 digit' 
  })
  </textarea>


  <h2 id="wrap">wrap</h2>
  <p>Encrypts data into a wrap object <code>{wrap:'base64...'}</code>. Thsi is good to be sending data over the network and let the receiver unwraps it.</p>
  <textarea rows="4">
  XS.$({  
    wrap:   {name:'john', ...},
    key:    'sha256 string' 
  })
  </textarea>


  <h2 id="unwrap">unwrap</h2>
  <p>Converts the wrapped data from the above wrap command into a workable data. The output will be like <code>{name:'john', ...}</code> if this is your original data before you wrapped it.</p>
  <textarea rows="4">
  XS.$({  
    unwrap: wrappedObject,
    key:    'sha256 string' 
  })
  </textarea>

  




  <h2 id="uuidx">uuidx</h2>
  <p>Simple UUID by utilizing the js timestamp. The output shows like <code>16992633-63002</code>.</p>
  <textarea rows="">
  XS.uuidx()
  </textarea>

  

  <h2 id="uuid">uuid</h2>
  <p>Gives standard UUID.</p>
  <textarea rows="">
  XS.uuid()
  </textarea>




  <h2 id="ishex">isHex</h2>
  <p>Checks if the input hex or not. Returning true or false.</p>
  <textarea rows="">
  XS.isHex(input)
  </textarea>

  <h2 id="isjson">isJson</h2>
  <p>Returns true if it is json, otherwise false.</p>
  <textarea>
  XS.isJson(input)
  </textarea>

  <h2 id="x2html">x2html</h2>
  <p>Converts object/array to html format. Use this to send html to the GET request instead of sending plain text.</p>
  <textarea>
  XS.x2html({name:'john', ...})
  </textarea>


  <h2 id="convert">convert</h2>
  <p>Convert UTF8 to Base64 or Hex, or vise versa.</p>
  <textarea rows="3">
  XS.convert('thailand','utf8','base64')
  XS.convert('base64...','base64','utf8')
  XS.convert('hex...','hex','utf8')
  </textarea>


  <h2 id="password">password</h2>
  <p>Generates random & secure password. Put the length of password you prefer in the function, default is 12. The output comprises of a-Z, A-Z and symbols.</p>
  <textarea>
  XS.password()    
  XS.password(24)
  </textarea>


  <h2 id="randomwords">randomWords</h2>
  <p>Gives random words. Default length is 16, you can change by putting the length into the function. Output contains only <code>a-z, A-Z</code> characters.</p>
  <textarea>
  XS.randomWords()
  XS.randomWords(100)
  </textarea>


  <h2 id="makekey">makeKey</h2>
  <p>Makes key from the packet. This is used in the <mark>xserver</mark> to derive key from the packet it received.</p>
  <textarea>
  XS.makeKey(packet, salt)
  </textarea>


  <h2 id="preppacket">prepPacket</h2>
  <p>Make packet from the input message and the xserver can send back to the browser/requester.</p>
  <textarea>
  XS.prepPacket(message, sessionInfo)
  </textarea>

  <p>Sample of a packet:</p>
  <textarea rows="24">
  {
    from: 'f3c7c2a9-4dda-4d2d-880b-81f3a1abb714',
    to: 'ae44e784-f977-4b29-91e5-fbf6848d4476',
    msg: 'g+sHejBO2c2A4r6PcGiDD1DA+Y6sHBEV9WpOKaDmcRJ/eJvTO7aPcTjnVp9J7gs3JD/tP5qQsxyQtOgy8/LzuitRIUgSEXSYgtC/bW05xKeDsi+JU9IX+unNZkm86YGMeUgUDok1Qb0pe2poPFnC1IepwcQCikSTVxFp+k8RqBqmiZretHnSIbnLaxoI05/NQ5vjXHwNLfMZp89q79q2h1MHMhkV//wVZVgVdXcOyeGBrdc2v/1kLxre81a6PGsyNOmXVH094yI2CQa3HGlCYxNQ+WYAh8w3vVOTYINZjflClX6wwFPEgrZjA+phsMOAFCKUcVxhwvnrmE+ixg5S/FR0H8NOk1+caQVVJsRi0RE=',
    id: '127.0.0.1_1699006422018_bb527a72-ba72-4a50-ab76-53007737d637',
    active: true,
    cert: 'e5298e36018af5e1e1584d12af092168e28ca3ff15f436f57c3fea5843c17cf5'
  }
  </textarea>



  <h2 id="passwordrealhash">passwordRealHash</h2>
  <p>Makes the password's hash more secure. Output is sha256 hex.</p>
  <textarea rows="4">
  XS.passwordRealHash(
    'userName',
    'passwordHash sha256'
  )
  </textarea>




</div>

<!-- footer -->
<br><br><hr>
<small>Last update: Nov 7, 2023 by M</small>
</body>
</html>